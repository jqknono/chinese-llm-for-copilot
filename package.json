{
    "name": "coding-plans-for-copilot",
    "displayName": "%displayName%",
    "description": "%description%",
    "version": "0.4.9",
    "publisher": "techfetch-dev",
    "repository": {
        "type": "git",
        "url": "https://github.com/jqknono/coding-plans-for-copilot.git"
    },
    "engines": {
        "vscode": "^1.109.0"
    },
    "categories": [
        "Machine Learning",
        "Other"
    ],
    "icon": "assets/icon.png",
    "main": "./out/extension.js",
    "contributes": {
        "languageModelChatProviders": [
            {
                "vendor": "coding-plans",
                "displayName": "%providers.codingPlans.displayName%",
                "configuration": {
                    "properties": {
                        "vendorName": {
                            "type": "string",
                            "title": "%providers.codingPlans.config.vendorName.title%",
                            "description": "%providers.codingPlans.config.vendorName.description%"
                        },
                        "apiKey": {
                            "type": "string",
                            "secret": true,
                            "title": "%providers.codingPlans.config.apiKey.title%",
                            "description": "%providers.codingPlans.config.apiKey.description%"
                        }
                    },
                    "required": [
                        "vendorName",
                        "apiKey"
                    ]
                }
            }
        ],
        "commands": [
            {
                "command": "coding-plans.manage",
                "title": "%commands.coding-plans.manage.title%",
                "category": "%commands.category%"
            },
            {
                "command": "coding-plans.refreshModels",
                "title": "%commands.coding-plans.refreshModels.title%",
                "category": "%commands.category%"
            },
            {
                "command": "coding-plans.generateCommitMessage",
                "title": "%commands.coding-plans.generateCommitMessage.title%",
                "icon": "$(sparkle)",
                "category": "%commands.category%"
            },
            {
                "command": "coding-plans.selectCommitMessageModel",
                "title": "%commands.coding-plans.selectCommitMessageModel.title%",
                "category": "%commands.category%"
            }
        ],
        "menus": {
            "scm/title": [
                {
                    "command": "coding-plans.generateCommitMessage",
                    "group": "navigation",
                    "when": "scmProvider == git && codingPlans.showGenerateCommitMessage"
                }
            ],
            "commandPalette": [
                {
                    "command": "coding-plans.generateCommitMessage",
                    "when": "codingPlans.showGenerateCommitMessage"
                }
            ]
        },
        "configuration": {
            "title": "%configuration.title%",
            "properties": {
                "coding-plans.commitMessage.showGenerateCommand": {
                    "type": "boolean",
                    "default": true,
                    "description": "%configuration.coding-plans.commitMessage.showGenerateCommand.description%",
                    "order": 0
                },
                "coding-plans.commitMessage.language": {
                    "type": "string",
                    "default": "en",
                    "enum": [
                        "en",
                        "zh-cn"
                    ],
                    "enumDescriptions": [
                        "English",
                        "中文"
                    ],
                    "description": "%configuration.coding-plans.commitMessage.language.description%",
                    "order": 1
                },
                "coding-plans.commitMessage.useRecentCommitStyle": {
                    "type": "boolean",
                    "default": false,
                    "description": "%configuration.coding-plans.commitMessage.useRecentCommitStyle.description%",
                    "order": 2
                },
                "coding-plans.commitMessage.modelVendor": {
                    "type": "string",
                    "default": "",
                    "description": "%configuration.coding-plans.commitMessage.modelVendor.description%",
                    "order": 3
                },
                "coding-plans.commitMessage.modelId": {
                    "type": "string",
                    "default": "",
                    "description": "%configuration.coding-plans.commitMessage.modelId.description%",
                    "order": 4
                },
                "coding-plans.commitMessage.options": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "prompt": {
                            "type": "string"
                        },
                        "maxDiffLines": {
                            "type": "number",
                            "minimum": 1
                        },
                        "pipelineMode": {
                            "type": "string",
                            "enum": [
                                "single",
                                "two-stage",
                                "auto"
                            ]
                        },
                        "summaryTriggerLines": {
                            "type": "number",
                            "minimum": 1
                        },
                        "summaryChunkLines": {
                            "type": "number",
                            "minimum": 1
                        },
                        "summaryMaxChunks": {
                            "type": "number",
                            "minimum": 1
                        },
                        "maxBodyBulletCount": {
                            "type": "number",
                            "minimum": 2
                        },
                        "subjectMaxLength": {
                            "type": "number",
                            "minimum": 20
                        },
                        "requireConventionalType": {
                            "type": "boolean"
                        },
                        "warnOnValidationFailure": {
                            "type": "boolean"
                        }
                    },
                    "default": {
                        "prompt": "FORMAT REQUIREMENT:\nFollow the Conventional Commits format: <type>(<scope>): <description>.\nCommon types: feat, fix, docs, style, refactor, perf, test, build, ci, chore.\nOutput ONLY the commit message, no explanation, no markdown fences.",
                        "maxDiffLines": 3000,
                        "pipelineMode": "single",
                        "summaryTriggerLines": 1200,
                        "summaryChunkLines": 800,
                        "summaryMaxChunks": 12,
                        "maxBodyBulletCount": 7,
                        "subjectMaxLength": 72,
                        "requireConventionalType": true,
                        "warnOnValidationFailure": true
                    },
                    "description": "%configuration.coding-plans.commitMessage.options.description%",
                    "order": 5
                },
                "coding-plans.vendors": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "required": [
                            "name",
                            "baseUrl"
                        ],
                        "properties": {
                            "name": {
                                "type": "string"
                            },
                            "baseUrl": {
                                "type": "string"
                            },
                            "useModelsEndpoint": {
                                "type": "boolean",
                                "default": false,
                                "description": "When true, fetch model list from /models during refresh."
                            },
                            "models": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "required": [
                                        "name"
                                    ],
                                    "properties": {
                                        "name": {
                                            "type": "string"
                                        },
                                        "description": {
                                            "type": "string"
                                        },
                                        "capabilities": {
                                            "type": "object",
                                            "properties": {
                                                "tools": {
                                                    "type": "boolean",
                                                    "default": true
                                                },
                                                "vision": {
                                                    "type": "boolean",
                                                    "default": false
                                                }
                                            }
                                        },
                                        "maxInputTokens": {
                                            "type": "number",
                                            "default": 200000
                                        },
                                        "maxOutputTokens": {
                                            "type": "number",
                                            "default": 200000
                                        }
                                    }
                                },
                                "default": []
                            }
                        }
                    },
                    "default": [
                        {
                            "name": "zhipu",
                            "baseUrl": "https://open.bigmodel.cn/api/coding/paas/v4",
                            "models": [
                                {
                                    "name": "glm-4.7",
                                    "capabilities": {
                                        "tools": true,
                                        "vision": false
                                    },
                                    "maxInputTokens": 128000,
                                    "maxOutputTokens": 128000
                                },
                                {
                                    "name": "glm-5",
                                    "capabilities": {
                                        "tools": true,
                                        "vision": false
                                    },
                                    "maxInputTokens": 128000,
                                    "maxOutputTokens": 128000
                                }
                            ]
                        },
                        {
                            "name": "z.ai",
                            "baseUrl": "https://api.z.ai/api/coding/paas/v4",
                            "models": [
                                {
                                    "name": "glm-4.7",
                                    "description": "GLM-4.7",
                                    "capabilities": {
                                        "tools": true,
                                        "vision": false
                                    },
                                    "maxInputTokens": 128000,
                                    "maxOutputTokens": 128000
                                },
                                {
                                    "name": "glm-5",
                                    "description": "GLM-5",
                                    "capabilities": {
                                        "tools": true,
                                        "vision": false
                                    },
                                    "maxInputTokens": 128000,
                                    "maxOutputTokens": 128000
                                }
                            ]
                        },
                        {
                            "name": "火山引擎",
                            "baseUrl": "https://ark.cn-beijing.volces.com/api/coding/v3",
                            "models": []
                        },
                        {
                            "name": "Volcengine Overseas",
                            "baseUrl": "https://ark.ap-southeast.bytepluses.com/api/coding/v3",
                            "models": []
                        },
                        {
                            "name": "MiniMax Mainland",
                            "baseUrl": "https://api.minimaxi.com/v1",
                            "models": []
                        },
                        {
                            "name": "MiniMax Overseas",
                            "baseUrl": "https://api.minimax.io/v1",
                            "models": []
                        },
                        {
                            "name": "Kimi Mainland",
                            "baseUrl": "https://api.moonshot.cn/v1",
                            "models": []
                        },
                        {
                            "name": "Kimi Overseas",
                            "baseUrl": "https://api.moonshot.ai/v1",
                            "models": []
                        },
                        {
                            "name": "Aliyun",
                            "baseUrl": "https://coding.dashscope.aliyuncs.com/v1",
                            "models": []
                        },
                        {
                            "name": "OpenRouter",
                            "baseUrl": "https://openrouter.ai/api/v1",
                            "models": [
                                {
                                    "name": "openai/gpt-oss-20b:free",
                                    "description": "https://openrouter.ai/openai/gpt-oss-20b:free",
                                    "capabilities": {
                                        "tools": true,
                                        "vision": false
                                    },
                                    "maxInputTokens": 131000,
                                    "maxOutputTokens": 131000
                                },
                                {
                                    "name": "openai/gpt-oss-120b:free",
                                    "description": "https://openrouter.ai/openai/gpt-oss-120b:free",
                                    "capabilities": {
                                        "tools": true,
                                        "vision": false
                                    },
                                    "maxInputTokens": 131000,
                                    "maxOutputTokens": 131000
                                }
                            ]
                        }
                    ],
                    "description": "%configuration.coding-plans.vendors.description%",
                    "order": 6
                }
            }
        }
    },
    "scripts": {
        "vscode:prepublish": "npm run package",
        "typecheck": "tsc -p ./ --noEmit",
        "bundle": "node ./scripts/esbuild.js",
        "bundle:watch": "node ./scripts/esbuild.js --watch",
        "bundle:prod": "node ./scripts/esbuild.js --production",
        "compile": "npm run typecheck && npm run bundle && npm run copy-i18n",
        "watch": "npm run copy-i18n && npm run bundle:watch",
        "copy-i18n": "copyfiles -u 1 \"src/i18n/*.json\" out/",
        "pretest": "npm run compile && npm run lint",
        "lint": "eslint src --ext ts",
        "test": "node ./out/test/runTest.js",
        "changelog:update": "node ./scripts/update-changelog.js",
        "package": "npm run bundle:prod && npm run copy-i18n",
        "package:vsix": "npm run package && npx @vscode/vsce package",
        "publish:marketplace": "npm run package && node ./scripts/publish-vsce.js",
        "pricing:fetch": "node ./scripts/fetch-provider-pricing.js",
        "pricing:serve": "node ./scripts/serve-pricing-page.js"
    },
    "devDependencies": {
        "@types/node": "^20.14.9",
        "@types/vscode": "^1.109.0",
        "@typescript-eslint/eslint-plugin": "^7.13.1",
        "@typescript-eslint/parser": "^7.13.1",
        "copyfiles": "^2.4.1",
        "esbuild": "^0.25.10",
        "eslint": "^8.57.0",
        "typescript": "^5.4.5"
    },
    "dependencies": {
        "axios": "^1.7.2"
    }
}
